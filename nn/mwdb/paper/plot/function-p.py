import matplotlib.pyplot as plt
from matplotlib.ticker import FormatStrFormatter
import json
from tabulate import tabulate

import os
import sys
sys.path.append('../../')

from function_p import function_p
import utils



if __name__ == "__main__":

    with open(os.path.join(utils.ROOT_DIR, 'functions_output/configs.json'), 'r') as fp:
        configs = json.load(fp)


    for config_hash in configs['configs']:
        if config_hash in [ 'th2s', 'nth' ]: continue

        df_f, cms_ths, ths = utils.load(config_hash)

        metrics = function_p(cms_ths, ths, plot=True)

        # for dga in utils.DGAS0:
        #     plot_(cms_ths, ths)
        #     if metrics[dga][0.50] > metrics[dga][0.25]:
        #         print(dga, '0.50 > 0.25', metrics[dga][0.50], metrics[dga][0.25])
        #     if metrics[dga][0.75] > metrics[dga][0.50]:
        #         print(dga, '0.75 > 0.50', metrics[dga][0.50], metrics[dga][0.75])
        #     if metrics[dga][0.75] > metrics[dga][0.25]:
        #         print(dga, '0.75 > 0.25', metrics[dga][0.75], metrics[dga][0.25])
        #     pass
        pass

    hashes = list(configs.keys())

    config_hash = hashes[int(sys.argv[1])]

    pass